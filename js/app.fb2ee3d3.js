(function(n){function t(t){for(var i,r,a=t[0],c=t[1],u=t[2],l=0,f=[];l<a.length;l++)r=a[l],s[r]&&f.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(n[i]=c[i]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),e()}function e(){for(var n,t=0;t<o.length;t++){for(var e=o[t],i=!0,a=1;a<e.length;a++){var c=e[a];0!==s[c]&&(i=!1)}i&&(o.splice(t--,1),n=r(r.s=e[0]))}return n}var i={},s={1:0},o=[];function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},r.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},r.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="/nimiq-funder/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var d=c;o.push([1,0]),e()})({1:function(n,t,e){n.exports=e("Vtdi")},NYe3:function(n,t,e){"use strict";var i=e("XUrE"),s=e.n(i);s.a},Vtdi:function(n,t,e){"use strict";e.r(t);e("VRzm");var i=e("Kw5r"),s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"nimiq-funder"},[n.expanded?e("div",{staticClass:"nf-backdrop",on:{click:function(t){n.expanded=!1}}}):n._e(),n._v(" "),e("div",{staticClass:"nf-main"},[e("div",{staticClass:"nf-container",class:{"nf-expanded":n.expanded}},[e("div",{on:{click:function(t){n.expand()}}},[e("div",{staticClass:"nf-logo"},[n.expanded?e("span",[n._v(" NIMIQ FUNDER")]):n._e()]),n._v(" "),e("small",[n._v(n._s(n.hashrateFriendly))])]),n._v(" "),n.expanded?e("div",[n._m(0),n._v(" "),e("ul",[e("li",[n._v("Consensus: "+n._s(n.status))]),n._v(" "),e("li",[n._v("Mining: "+n._s(n.mining?"Enabled":"Disabled")+" ")]),n._v(" "),e("li",[n._v("Funding Address: "),e("a",{attrs:{href:"https://nimiq.watch/#"+n.address.replace(/\s/g,"+"),target:"_blank"}},[n._v(n._s(n.address))])]),n._v(" "),e("li",[n._v("Height: #"+n._s(n.height))])]),n._v(" "),e("button",{staticClass:"nf-button",class:{"nf-secondary-button":!n.mining},on:{click:function(t){n.optIn()}}},[n._v("Opt In")]),n._v(" "),e("button",{staticClass:"nf-button",class:{"nf-secondary-button":n.mining},on:{click:function(t){n.optOut()}}},[n._v("Opt Out")]),n._v(" "),n.expanded?e("p",{staticClass:"nf-info"},[n._v("source: "),e("a",{attrs:{href:"https://github.com/rlafranchi/nimiq-funder",target:"_blank"}},[n._v("rlafranchi/nimiq-funder")])]):n._e()]):n._e()])])])},o=[function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("p",[n._v("This Website is funded through visitors hashing power on the Nimiq Blockchain. Find out more about Nimiq at "),e("a",{attrs:{href:"https://nimiq.com",target:"_blank"}},[n._v("nimiq.com")])])}],r=(e("ls82"),e("MECJ")),a={},c={name:"NimiqFunder",data:function(){return{status:"Initializing",hashrate:0,height:0,address:"NQ42 2XFM G9U0 8MSC 7T2H UTUV A9D6 RG13 P1RV",pool:{host:"pool.nimiq.watch",port:8443},mining:!0,expanded:!1,firstExpand:!1}},computed:{hashrateFriendly:function(){return"".concat(this.hashrate," H/s")}},created:function(){this.setConfig();var n=this;setInterval(function(){a&&a.miner&&(n.hashrate=a.miner._hashrate.toString(),n.height=a.blockchain.height.toString())},1e3),setTimeout(function(){n.firstExpand||(n.expanded=!0)},5e3),Nimiq.init(Object(r["a"])(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n.status="Syncing",Nimiq.GenesisConfig.main(),t.next=4,Nimiq.Consensus.light();case 4:a.consensus=t.sent,a.blockchain=a.consensus.blockchain,a.network=a.consensus.network,a.accounts=a.blockchain.accounts,a.mempool=a.consensus.mempool,e=Nimiq.Address.fromUserFriendlyAddress(n.address),i=Nimiq.BasePoolMiner.generateDeviceId(a.network.config),a.miner=new Nimiq.SmartPoolMiner(a.blockchain,a.accounts,a.mempool,a.network.time,e,i),a.miner.on("connection-state",function(){n.connectOrDisconnect()}),a.consensus.on("established",function(){n.status="Established",n.connectOrDisconnect()}),a.consensus.on("lost",function(){n.status="Lost",n.connectOrDisconnect()}),a.network.connect();case 16:case"end":return t.stop()}},t,this)})),function(n){console.error(n)},{})},methods:{setConfig:function(){if("undefined"===typeof Nimiq)throw"Nimiq not loaded please load https://cdn.nimiq.com/nimiq.js";"undefined"!==typeof NIMIQ_ADDRESS&&(this.address=NIMIQ_ADDRESS),"undefined"!==typeof NIMIQ_POOL_HOST&&(this.pool.host=NIMIQ_POOL_HOST),"undefined"!==typeof NIMIQ_POOL_PORT&&(this.pool.port=NIMIQ_POOL_PORT);var n=localStorage.getItem("NimiqFunder");if(n){var t=JSON.parse(n);this.mining=t.mining,this.firstExpand=!0}else this.saveOptStatus()},optIn:function(){this.mining&&(this.expanded=!1),this.mining=!0,this.saveOptStatus(),this.connectOrDisconnect()},optOut:function(){this.mining||(this.expanded=!1),this.mining=!1,this.saveOptStatus(),this.connectOrDisconnect()},connectOrDisconnect:function(){var n=this;setTimeout(function(){if(n.mining)if(a.miner.isConnected())a.miner.startWork();else try{a.miner.connect(n.pool.host,n.pool.port)}catch(n){a.miner.disconnect()}else a.miner.isConnected()?a.miner.disconnect():a.miner.stopWork()},1e3)},expand:function(){this.expanded=!this.expanded,this.firstExpand=!0},saveOptStatus:function(){localStorage.setItem("NimiqFunder",JSON.stringify({mining:this.mining}))}}},u=c,d=(e("NYe3"),e("KHd+")),l=Object(d["a"])(u,s,o,!1,null,"33b5c8de",null),f=l.exports;i["a"].config.productionTip=!1;var h=new i["a"]({render:function(n){return n(f)}}).$mount("#nimiq-funder");t["default"]=h},XUrE:function(n,t,e){}});
//# sourceMappingURL=app.fb2ee3d3.js.map