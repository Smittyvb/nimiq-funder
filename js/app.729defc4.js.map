{"version":3,"sources":["webpack:///src/NimiqFunder.vue","webpack:///./src/NimiqFunder.vue?0edd","webpack:///./src/NimiqFunder.vue","webpack:///./src/main.js"],"names":["NimiqFunder","hashrate","setConfig","this","toString","address","deviceId","main","light","blockchain","network","accounts","mempool","config","connectOrDisconnect","connect","err","NIMIQ_ADDRESS","NIMIQ_POOL_HOST","NIMIQ_POOL_PORT","mining","_this","miner","startWork","port","disconnect","stopWork","expanded","NimiqFunder_render","_vm","_h","$createElement","_c","_self","staticClass","class","on","click","$event","expand","_v","_e","_s","hashrateFriendly","attrs","transition","_m","status","href","preventDefault","toggleMining","replace","target","height","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","src_NimiqFunder","vue_runtime_esm","productionTip","render","h","$mount"],"mappings":"oNA4BAA,QAEA,qDAIA,wBACA,SACA,UACA,0DAEA,wBAEA,cACA,YAEA,+DAIAC,SAAA,kCAIAC,kBACAC,wFAGAC,8CACAA,aAEA,yDACA,IAAAC,EAAAC,kGACA,8BACAC,gCACAC,6EACAC,6CACAC,4CACAC,2CAEAC,kDACAP,gEACAQ,0HAEAP,oDAEAQ,+EAIA,gBACAA,wEAIA,SACAA,wCAIAC,mFAEAC,0EAQA,gHAGAC,qEAGAC,uEAGAC,4DAIAC,YACAN,sDAEA,IAAAO,EAAAlB,6BACAmB,sFAIAC,8DAGAC,6BAEAC,4DAKAA,2BAEAC,YAGA,4CAGAC,YCzIAC,EAAA,WAA0B,IAAAC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAAC,OAAkCR,SAAAE,EAAAF,YAAwBK,EAAA,OAAYE,YAAA,SAAmBF,EAAA,OAAYI,IAAIC,MAAA,SAAAC,GAAyBT,EAAAU,aAAeP,EAAA,OAAYE,YAAA,SAAmBL,EAAA,SAAAG,EAAA,QAAAH,EAAAW,GAAA,mBAAAX,EAAAY,OAAAT,EAAA,SAAAH,EAAAW,GAAAX,EAAAa,GAAAb,EAAAc,uBAAAd,EAAA,SAAAG,EAAA,OAA+IY,OAAOC,WAAAhB,EAAAU,UAAyBV,EAAAiB,GAAA,GAAAd,EAAA,MAAAA,EAAA,MAAAH,EAAAW,GAAA,cAAAX,EAAAa,GAAAb,EAAAkB,WAAAf,EAAA,MAAAH,EAAAW,GAAA,WAAAX,EAAAa,GAAAb,EAAAT,OAAA,2BAAAY,EAAA,KAA6JY,OAAOI,KAAA,KAAWZ,IAAKC,MAAA,SAAAC,GAAyBA,EAAAW,iBAAwBpB,EAAAqB,mBAAqBrB,EAAAW,GAAAX,EAAAa,GAAAb,EAAAT,OAAA,qBAAAY,EAAA,MAAAH,EAAAW,GAAA,qBAAAR,EAAA,KAAiGY,OAAOI,KAAA,wBAAAnB,EAAAxB,QAAA8C,QAAA,WAAAC,OAAA,YAAwFvB,EAAAW,GAAAX,EAAAa,GAAAb,EAAAxB,cAAA2B,EAAA,MAAAH,EAAAW,GAAA,YAAAX,EAAAa,GAAAb,EAAAwB,aAAAxB,EAAA,SAAAG,EAAA,KAA6GE,YAAA,SAAmBL,EAAAW,GAAA,YAAAR,EAAA,KAA6BY,OAAOI,KAAA,6CAAAI,OAAA,YAAuEvB,EAAAW,GAAA,+BAAAX,EAAAY,OAAAZ,EAAAY,UAC9mCa,GAAA,WAAoC,IAAAzB,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,KAAAH,EAAAW,GAAA,gHAAAR,EAAA,KAA8IY,OAAOI,KAAA,oBAAAI,OAAA,YAA8CvB,EAAAW,GAAA,+BCDtS,SAAAe,EAAAC,GACAC,EAAA,QAQA,IAAAC,GAAA,EAEAC,EAAAJ,EAEAK,EAAA,kBAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACA/D,EACA4B,EACA0B,EACAI,EACAC,EACAC,EACAC,GAGAI,EAAAH,EAAA,QCxBAI,EAAA,KAAIrD,OAAOsD,eAAgB,EAE3B,IAAID,EAAA,MACFE,OAAQ,SAAAC,GAAA,OAAKA,EAAEJ,MACdK,OAAO","file":"js/app.729defc4.js","sourcesContent":["<template>\n  <div class=\"nimiq-funder\" :class=\"{expanded: expanded}\">\n    <div class=\"main\">\n      <div @click=\"expand()\">\n        <div class=\"logo\">\n          <span v-if=\"expanded\"> NIMIQ FUNDER</span>\n        </div>\n        <small>{{ hashrateFriendly }}</small>\n      </div>\n      <div :transition=\"expand\" v-if=\"expanded\">\n        <p>This Website is funded through visitors hashing power on the Nimiq Blockchain. Find out more about Nimiq at <a href=\"https://nimiq.com\" target=\"_blank\">nimiq.com</a></p>\n        <ul>\n          <li>Consensus: {{ status }}</li>\n          <li>Mining: {{ mining ? 'Enabled' : 'Disabled' }} <a href=\"#\" @click.prevent=\"toggleMining()\">{{ mining ? 'Stop' : 'Start' }}</a></li>\n          <li>Funding Address: <a :href=\"`https://nimiq.watch/#${address.replace(/\\s/g, '+')}`\" target=\"_blank\">{{ address }}</a></li>\n          <li>Height: #{{ height }}</li>\n        </ul>\n        <p class=\"info\" v-if=\"expanded\">source: <a href=\"https://github.com/rlafranchi/nimiq-funder\" target=\"_blank\">rlafranchi/nimiq-funder</a></p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* global Nimiq */\n/* global NIMIQ_ADDRESS */\n/* global NIMIQ_POOL_HOST */\n/* global NIMIQ_POOL_PORT */\nexport default {\n  name: 'NimiqFunder',\n  data () {\n    return {\n      nimiq: {},\n      status: 'Initializing',\n      hashrate: 0,\n      height: 0,\n      address: 'NQ42 2XFM G9U0 8MSC 7T2H UTUV A9D6 RG13 P1RV',\n      pool: {\n        host: 'pool.nimiq.watch',\n        port: 8443\n      },\n      mining: true,\n      expanded: false\n    }\n  },\n  computed: {\n    hashrateFriendly () {\n      return `${this.hashrate} H/s`\n    }\n  },\n  created () {\n    this.setConfig()\n    const vm = this\n    setInterval(() => {\n      if (vm.nimiq && vm.nimiq.miner) {\n        vm.hashrate = vm.nimiq.miner._hashrate.toString()\n        vm.height = vm.nimiq.blockchain.height.toString()\n      }\n    }, 1000)\n    Nimiq.init(async function() {\n        vm.status = 'Syncing'\n        Nimiq.GenesisConfig.main()\n        vm.nimiq.consensus = await Nimiq.Consensus.light()\n        vm.nimiq.blockchain = vm.nimiq.consensus.blockchain\n        vm.nimiq.network = vm.nimiq.consensus.network\n        vm.nimiq.accounts = vm.nimiq.blockchain.accounts\n        vm.nimiq.mempool = vm.nimiq.consensus.mempool\n\n        const address =  Nimiq.Address.fromUserFriendlyAddress(vm.address)\n        const deviceId = Nimiq.BasePoolMiner.generateDeviceId(vm.nimiq.network.config)\n        vm.nimiq.miner = new Nimiq.SmartPoolMiner(vm.nimiq.blockchain, vm.nimiq.accounts, vm.nimiq.mempool, vm.nimiq.network.time, address, deviceId)\n\n        vm.nimiq.miner.on('connection-state', () => {\n          vm.connectOrDisconnect()\n        })\n\n        vm.nimiq.consensus.on('established', () => {\n          vm.status = 'Established'\n          vm.connectOrDisconnect()\n        })\n\n        vm.nimiq.consensus.on('lost', () => {\n          vm.status = 'Lost'\n          vm.connectOrDisconnect()\n        })\n\n        vm.nimiq.network.connect()\n      },\n      (err) => {\n        console.error(err);\n      },\n      {}\n    );\n  },\n  methods: {\n    setConfig() {\n      if (typeof Nimiq === 'undefined') {\n        throw 'Nimiq not loaded please load https://cdn.nimiq.com/nimiq.js'\n      }\n      if (typeof NIMIQ_ADDRESS !== 'undefined') {\n        this.address = NIMIQ_ADDRESS\n      }\n      if (typeof NIMIQ_POOL_HOST !== 'undefined') {\n        this.pool.host = NIMIQ_POOL_HOST\n      }\n      if (typeof NIMIQ_POOL_PORT !== 'undefined') {\n        this.pool.port = NIMIQ_POOL_PORT\n      }\n    },\n    toggleMining() {\n      this.mining = !this.mining\n      this.connectOrDisconnect()\n    },\n    connectOrDisconnect() {\n      console.info(this.nimiq.miner)\n      setTimeout(() => {\n        if (this.mining) {\n          if (this.nimiq.miner.isConnected()) {\n            this.nimiq.miner.startWork()\n          } else {\n            try {\n              this.nimiq.miner.connect(this.pool.host, this.pool.port)\n            } catch(e) {\n              this.nimiq.miner.disconnect()\n            }\n          }\n        } else {\n          if (this.nimiq.miner.isConnected()) {\n            this.nimiq.miner.disconnect()\n          } else {\n            this.nimiq.miner.stopWork()\n          }\n        }\n      }, 1000);\n    },\n    expand() {\n      this.expanded = !this.expanded\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.nimiq-funder {\n  color: rgba(255,255,255,0.9);\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: fixed;\n  z-index: 99999;\n  bottom: 0;\n  right: 30px;\n  margin-left: auto;\n  margin-right: auto;\n  height: 40px;\n  width: 100px;\n  background-image: linear-gradient(30deg, #3023AE, #9C58CB);\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  transition: all 0.5s ease;\n\n  .logo {\n    height: 24px;\n    box-sizing: border-box;\n    background-image: url('data:image/svg+xml;utf8,<svg width=\"499\" height=\"440\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M389.33 20.73C382.65 9.28 366.48 0 353.24 0h-208c-13.26 0-29.4 9.28-36.09 20.73L5.33 198.87c-6.68 11.45-6.68 30.02 0 41.47l103.82 178.14c6.68 11.45 22.85 20.74 36.09 20.74h208c13.26 0 29.4-9.28 36.09-20.74l103.82-178.14c6.68-11.45 6.68-30.01 0-41.47L389.33 20.73zM272.6 347.45v41.1h-38.74v-39.53c-23.53-2.82-51.45-13.02-70.28-30.12l25.57-39.06c20.4 15.06 37.96 22.9 57.1 22.9 22.43 0 32.31-9.1 32.31-27.29 0-40.63-105.4-39.84-105.4-111.06 0-38.74 23.2-65.57 60.7-73.1V50.51h38.74v40c25.57 3.6 43.92 16.16 59.45 32.47l-29.49 33.26c-14.43-13.02-26.66-19.77-43.45-19.77-19.13 0-29.49 7.53-29.49 25.26 0 37.49 105.41 34.35 105.41 109.96-.15 37.8-21.33 67.13-62.43 75.76z\" fill=\"%23FFC107\" fill-rule=\"evenodd\"/></svg>');\n    background-size: 24px 21px;\n    background-repeat: no-repeat;\n    padding-left: 28px;\n    cursor: pointer;\n  }\n\n  &.expanded {\n    height: 200px;\n    width: 210px;\n    small {\n      top: 2px;\n    }\n    transition: all 0.5s ease;\n  }\n\n  .main {\n    width: 100%;\n    height: auto;\n    padding: 10px;\n    > div {\n      cursor: pointer;\n    }\n\n    .expand {\n      float: right;\n    }\n\n  }\n\n  small {\n    position: absolute;\n    top: 12px;\n    right: 4px;\n    font-size: 75%;\n  }\n\n  p, ul {\n    font-size: 10px;\n    padding-right: 10px;\n    line-height: 1.2;\n  }\n\n  a {\n    color: rgba(255, 255, 255, 0.9);\n    text-decoration: underline;\n  }\n\n  ul {\n    list-style-type: none;\n    padding-left: 0px;\n  }\n\n  .info {\n    position: absolute;\n    bottom: 2px;\n    left: 10px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/NimiqFunder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nimiq-funder\",class:{expanded: _vm.expanded}},[_c('div',{staticClass:\"main\"},[_c('div',{on:{\"click\":function($event){_vm.expand()}}},[_c('div',{staticClass:\"logo\"},[(_vm.expanded)?_c('span',[_vm._v(\" NIMIQ FUNDER\")]):_vm._e()]),_c('small',[_vm._v(_vm._s(_vm.hashrateFriendly))])]),(_vm.expanded)?_c('div',{attrs:{\"transition\":_vm.expand}},[_vm._m(0),_c('ul',[_c('li',[_vm._v(\"Consensus: \"+_vm._s(_vm.status))]),_c('li',[_vm._v(\"Mining: \"+_vm._s(_vm.mining ? 'Enabled' : 'Disabled')+\" \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.toggleMining()}}},[_vm._v(_vm._s(_vm.mining ? 'Stop' : 'Start'))])]),_c('li',[_vm._v(\"Funding Address: \"),_c('a',{attrs:{\"href\":(\"https://nimiq.watch/#\" + (_vm.address.replace(/\\s/g, '+'))),\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.address))])]),_c('li',[_vm._v(\"Height: #\"+_vm._s(_vm.height))])]),(_vm.expanded)?_c('p',{staticClass:\"info\"},[_vm._v(\"source: \"),_c('a',{attrs:{\"href\":\"https://github.com/rlafranchi/nimiq-funder\",\"target\":\"_blank\"}},[_vm._v(\"rlafranchi/nimiq-funder\")])]):_vm._e()]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"This Website is funded through visitors hashing power on the Nimiq Blockchain. Find out more about Nimiq at \"),_c('a',{attrs:{\"href\":\"https://nimiq.com\",\"target\":\"_blank\"}},[_vm._v(\"nimiq.com\")])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57080539\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/NimiqFunder.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57080539\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./NimiqFunder.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/rlafranchi/projects/nimiq-miner/node_modules/.cache/cache-loader\\\"}!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./NimiqFunder.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/rlafranchi/projects/nimiq-miner/node_modules/.cache/cache-loader\\\"}!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./NimiqFunder.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57080539\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./NimiqFunder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-57080539\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/NimiqFunder.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport NimiqFunder from './NimiqFunder.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(NimiqFunder)\n}).$mount('#nimiq-funder')\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}